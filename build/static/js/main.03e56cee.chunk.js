(this.webpackJsonpreact_game_search=this.webpackJsonpreact_game_search||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),c=(a(29),a(3)),i=a(4),m=a(6),o=a(5),u=a(7),p=a(14),h=a.n(p),g=a(12),b=a(10),f=(a(30),a(21)),d=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.onSubmit=function(e){e.preventDefault(),a.props.search(a.state.query)},a.immaTyping=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit,className:"search-form"},r.a.createElement("input",{type:"text",name:"query",placeholder:"Search for a game title...",value:this.state.query,onChange:this.immaTyping}),r.a.createElement("input",{type:"submit",value:"Search",className:"search-btn"}))}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game-list-item"},r.a.createElement(g.b,{to:"/game/".concat(this.props.game.id)},r.a.createElement("img",{src:this.props.game.image.small_url,alt:""}),r.a.createElement("h3",null,this.props.game.name)))}}]),t}(n.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game-list"},this.props.games.map((function(e){return r.a.createElement(y,{key:e.id,game:e})})))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={game:"",images:"",platforms:[],genres:[],publishers:[],devs:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log(t),h()("https://www.giantbomb.com/api/game/"+t+"/?api_key=ec164f3e4ebfe95b8f71fde3a5b2562480e35db4&format=jsonp",{jsonpCallback:"json_callback"}).then((function(e){return e.json()})).then((function(t){console.log("parsed game",t),e.setState({game:t.results,images:t.results.image,platforms:t.results.platforms,genres:t.results.genres,publishers:t.results.publishers,devs:t.results.developers})})).catch((function(e){return console.log("parsing failed",e)}))}},{key:"render",value:function(){var e=this.state.platforms?this.state.platforms.map((function(e){return r.a.createElement("span",{key:e.id},e.name)})):"N/A",t=this.state.genres?this.state.genres.map((function(e){return r.a.createElement("span",{key:e.id},e.name)})):"N/A",a=this.state.devs?this.state.devs.map((function(e){return r.a.createElement("span",{key:e.id},e.name)})):"N/A",n=this.state.publishers?this.state.publishers.map((function(e){return r.a.createElement("span",{key:e.id},e.name)})):"N/A";return r.a.createElement("div",{className:"game-details",style:{backgroundImage:"url(".concat(this.state.images.original_url,")")}},r.a.createElement("div",{className:"game-details-inner"},r.a.createElement("img",{src:this.state.images.small_url,alt:this.state.game.name}),r.a.createElement("div",{className:"details-right"},r.a.createElement(g.b,{to:"/"},"Go Back Home"),r.a.createElement("h1",null,this.state.game.name),r.a.createElement("p",null,this.state.game.deck||"No description available"),r.a.createElement("h5",null,"Platforms:"),e,r.a.createElement("br",null),r.a.createElement("h5",null,"Genres:"),t,r.a.createElement("br",null),r.a.createElement("h5",null,"Developers:"),a,r.a.createElement("br",null),r.a.createElement("h5",null,"Publishers:"),n,r.a.createElement("br",null),r.a.createElement("h5",null,"Expected Release Year:"),this.state.game.expected_release_year||"N/A",r.a.createElement("br",null))))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).spanArray=[],a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getPages",value:function(){var e=this.props.totalRes/this.props.pageRes;return e=Math.ceil(e)}},{key:"renderPager",value:function(e){this.spanArray=[];for(var t=0;t<e;t++)this.spanArray.push("&page="+(t+1))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"pager",className:"pager"},this.renderPager(this.getPages()),this.spanArray.map((function(t,a){return r.a.createElement("span",{onClick:function(){e.props.search(e.props.query,t)},key:a},a+1)})))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={games:[],pageRes:0,totalRes:0,query:"",error:""},a.search=function(e,t){a.setState({query:e}),h()("https://www.giantbomb.com/api/search/?api_key=ec164f3e4ebfe95b8f71fde3a5b2562480e35db4&query="+e+"&resources=game&format=jsonp&limit=12"+t,{jsonpCallback:"json_callback"}).then((function(e){return e.json()})).then((function(e){console.log("parsed json",e),a.setState({games:e.results,pageRes:e.limit,totalRes:e.number_of_total_results})})).catch((function(e){console.log("parsing failed",e),a.setState({error:"Request error occured. The request limit may have been reached. Try again in 15 minutes or more."})}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-name"},r.a.createElement("h1",null,"Game Search App"),r.a.createElement("small",null,"0.1.0")),r.a.createElement("div",{className:"links"}),r.a.createElement(d,{search:e.search}),r.a.createElement(E,{games:e.state.games}),r.a.createElement(j,{pageRes:e.state.pageRes,totalRes:e.state.totalRes,query:e.state.query,search:e.search}),e.state.error?r.a.createElement("span",null,e.state.error):null)}}),r.a.createElement(b.a,{path:"/game/:id",component:v})))}}]),t}(n.Component);l.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.03e56cee.chunk.js.map